<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sam - Homepage</title>
<link rel="icon" href="../images/tab_icon.png" type="image/png">
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<!-- Home CSS -->
<link rel="stylesheet" href="../css/home_no_load.css">
<script defer src="../script/bgm.js"></script>

<style>
.main-content {
    opacity: 0; /* start hidden for fade-in */
    transition: opacity 1s ease;
}
.page-exit-animation {
    opacity: 0;
    transition: opacity 1.5s ease;
}
</style>
</head>

<body>

<div class="main-content">
    <h1 class="title">Hi! <span class="name">I'm Sam</span></h1>
    <h2 class="subtitle">illustrator, game developer, software developer</h2>
    
    <div class="nav-buttons">
        <a href="../html/aboutme.html"><button class="nav-btn" data-sfx-hover="../audio/hover_sfx.mp3" data-sfx-click="../audio/click_sfx.mp3" >About me</button></a>
        <a href="../html/works.html"><button class="nav-btn" data-sfx-hover="../audio/hover_sfx.mp3" data-sfx-click="../audio/click_sfx.mp3" >Works</button></a>
        <a href="../html/faq.html"><button class="nav-btn" data-sfx-hover="../audio/hover_sfx.mp3" data-sfx-click="../audio/click_sfx.mp3" >FAQ</button></a>
        <a href="../html/contacts.html"><button class="nav-btn" data-sfx-hover="../audio/hover_sfx.mp3" data-sfx-click="../audio/click_sfx.mp3" >Contacts</button></a>
    </div>
</div>

<!-- Wave Animation -->
<svg class="wave" viewBox="0 0 2 1" preserveAspectRatio="none">
    <defs>
        <path id="w" d="m0 1v-.5 q.5.5 1 0 t1 0 1 0 1 0 v.5z" />
    </defs>
    <g>
        <use href="#w" y=".0" fill="#41ce5c" />
        <use href="#w" y=".1" fill="#4BCD79" />
        <use href="#w" y=".2" fill="#94FF7C" />
    </g>
</svg>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const mainContent = document.querySelector(".main-content");
    const navButtons = document.querySelectorAll(".nav-buttons a");

    // Fade in main content
    setTimeout(() => {
        mainContent.style.opacity = 1;
    }, 50);

    function fadeOutAudio(audio, duration = 1000) {
        if (!audio) return;
        const stepTime = 50;
        const steps = duration / stepTime;
        const volumeStep = audio.volume / steps;

        const fadeInterval = setInterval(() => {
            if (audio.volume > 0) {
                audio.volume = Math.max(audio.volume - volumeStep, 0);
            } else {
                clearInterval(fadeInterval);
                audio.pause();
            }
        }, stepTime);
    }

});
</script>

  <!-- fade out animation -->
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const navButtons = document.querySelectorAll(".nav-buttons a");

        function fadeOutAudio(audio, duration = 1000) {
            const stepTime = 50;
            const steps = duration / stepTime;
            const volumeStep = audio.volume / steps;

            const fadeInterval = setInterval(() => {
                if (audio.volume > 0) {
                    audio.volume = Math.max(audio.volume - volumeStep, 0);
                } else {
                    clearInterval(fadeInterval);
                    audio.pause(); // stop it after fade out
                }
            }, stepTime);
        }

        navButtons.forEach(link => {
            link.addEventListener("click", (e) => {
                e.preventDefault(); // stop immediate navigation

                // Start fade out animation for page
                document.body.classList.add("page-exit-animation");

                // Start fade out for music
                fadeOutAudio(bgMusic, 500);

                // Redirect after animation duration
                setTimeout(() => {
                    window.location.href = link.href;
                }, 1500);
            });
        });
    });
    </script>

</body>
</html>
